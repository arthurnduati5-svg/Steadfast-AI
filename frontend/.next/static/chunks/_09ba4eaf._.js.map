{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/hooks/use-toast.ts"],"sourcesContent":["\"use client\"\r\n\r\n// Inspired by react-hot-toast library\r\nimport * as React from \"react\"\r\n\r\nimport type {\r\n  ToastActionElement,\r\n  ToastProps,\r\n} from \"@/components/ui/toast\"\r\n\r\nconst TOAST_LIMIT = 1\r\nconst TOAST_REMOVE_DELAY = 1000000\r\n\r\ntype ToasterToast = ToastProps & {\r\n  id: string\r\n  title?: React.ReactNode\r\n  description?: React.ReactNode\r\n  action?: ToastActionElement\r\n}\r\n\r\nconst actionTypes = {\r\n  ADD_TOAST: \"ADD_TOAST\",\r\n  UPDATE_TOAST: \"UPDATE_TOAST\",\r\n  DISMISS_TOAST: \"DISMISS_TOAST\",\r\n  REMOVE_TOAST: \"REMOVE_TOAST\",\r\n} as const\r\n\r\nlet count = 0\r\n\r\nfunction genId() {\r\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\r\n  return count.toString()\r\n}\r\n\r\ntype ActionType = typeof actionTypes\r\n\r\ntype Action =\r\n  | {\r\n      type: ActionType[\"ADD_TOAST\"]\r\n      toast: ToasterToast\r\n    }\r\n  | {\r\n      type: ActionType[\"UPDATE_TOAST\"]\r\n      toast: Partial<ToasterToast>\r\n    }\r\n  | {\r\n      type: ActionType[\"DISMISS_TOAST\"]\r\n      toastId?: ToasterToast[\"id\"]\r\n    }\r\n  | {\r\n      type: ActionType[\"REMOVE_TOAST\"]\r\n      toastId?: ToasterToast[\"id\"]\r\n    }\r\n\r\ninterface State {\r\n  toasts: ToasterToast[]\r\n}\r\n\r\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\r\n\r\nconst addToRemoveQueue = (toastId: string) => {\r\n  if (toastTimeouts.has(toastId)) {\r\n    return\r\n  }\r\n\r\n  const timeout = setTimeout(() => {\r\n    toastTimeouts.delete(toastId)\r\n    dispatch({\r\n      type: \"REMOVE_TOAST\",\r\n      toastId: toastId,\r\n    })\r\n  }, TOAST_REMOVE_DELAY)\r\n\r\n  toastTimeouts.set(toastId, timeout)\r\n}\r\n\r\nexport const reducer = (state: State, action: Action): State => {\r\n  switch (action.type) {\r\n    case \"ADD_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\r\n      }\r\n\r\n    case \"UPDATE_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\r\n        ),\r\n      }\r\n\r\n    case \"DISMISS_TOAST\": {\r\n      const { toastId } = action\r\n\r\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\r\n      // but I'll keep it here for simplicity\r\n      if (toastId) {\r\n        addToRemoveQueue(toastId)\r\n      } else {\r\n        state.toasts.forEach((toast) => {\r\n          addToRemoveQueue(toast.id)\r\n        })\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === toastId || toastId === undefined\r\n            ? {\r\n                ...t,\r\n                open: false,\r\n              }\r\n            : t\r\n        ),\r\n      }\r\n    }\r\n    case \"REMOVE_TOAST\":\r\n      if (action.toastId === undefined) {\r\n        return {\r\n          ...state,\r\n          toasts: [],\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\r\n      }\r\n  }\r\n}\r\n\r\nconst listeners: Array<(state: State) => void> = []\r\n\r\nlet memoryState: State = { toasts: [] }\r\n\r\nfunction dispatch(action: Action) {\r\n  memoryState = reducer(memoryState, action)\r\n  listeners.forEach((listener) => {\r\n    listener(memoryState)\r\n  })\r\n}\r\n\r\ntype Toast = Omit<ToasterToast, \"id\">\r\n\r\nfunction toast({ ...props }: Toast) {\r\n  const id = genId()\r\n\r\n  const update = (props: ToasterToast) =>\r\n    dispatch({\r\n      type: \"UPDATE_TOAST\",\r\n      toast: { ...props, id },\r\n    })\r\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\r\n\r\n  dispatch({\r\n    type: \"ADD_TOAST\",\r\n    toast: {\r\n      ...props,\r\n      id,\r\n      open: true,\r\n      onOpenChange: (open) => {\r\n        if (!open) dismiss()\r\n      },\r\n    },\r\n  })\r\n\r\n  return {\r\n    id: id,\r\n    dismiss,\r\n    update,\r\n  }\r\n}\r\n\r\nfunction useToast() {\r\n  const [state, setState] = React.useState<State>(memoryState)\r\n\r\n  React.useEffect(() => {\r\n    listeners.push(setState)\r\n    return () => {\r\n      const index = listeners.indexOf(setState)\r\n      if (index > -1) {\r\n        listeners.splice(index, 1)\r\n      }\r\n    }\r\n  }, [state])\r\n\r\n  return {\r\n    ...state,\r\n    toast,\r\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\r\n  }\r\n}\r\n\r\nexport { useToast, toast }\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/AI/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function formatMessageContent(content: string): string {\r\n  // Remove stray newlines that might come from the AI\r\n  let cleanContent = content.replace(/\\n/g, \" \").replace(/\\\\n/g, \" \").replace(/\\s+/g, \" \").trim();\r\n\r\n  // Convert URLs into clickable links with text-primary class\r\n  const urlRegex = /(https?:\\/\\/[^\\s]+)/g;\r\n  cleanContent = cleanContent.replace(urlRegex, (url) => {\r\n    return `<a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-primary\">${url}</a>`;\r\n  });\r\n\r\n  return cleanContent;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEO,SAAS,qBAAqB,OAAe;IAClD,oDAAoD;IACpD,IAAI,eAAe,QAAQ,OAAO,CAAC,OAAO,KAAK,OAAO,CAAC,QAAQ,KAAK,OAAO,CAAC,QAAQ,KAAK,IAAI;IAE7F,4DAA4D;IAC5D,MAAM,WAAW;IACjB,eAAe,aAAa,OAAO,CAAC,UAAU,CAAC;QAC7C,OAAO,CAAC,SAAS,EAAE,IAAI,iEAAiE,EAAE,IAAI,IAAI,CAAC;IACrG;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/components/ui/toast.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst ToastProvider = ToastPrimitives.Provider\r\n\r\nconst ToastViewport = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Viewport\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\r\n\r\nconst toastVariants = cva(\r\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"border bg-background text-foreground\",\r\n        destructive:\r\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst Toast = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\r\n    VariantProps<typeof toastVariants>\r\n>(({ className, variant, ...props }, ref) => {\r\n  return (\r\n    <ToastPrimitives.Root\r\n      ref={ref}\r\n      className={cn(toastVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nToast.displayName = ToastPrimitives.Root.displayName\r\n\r\nconst ToastAction = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Action>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Action\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nToastAction.displayName = ToastPrimitives.Action.displayName\r\n\r\nconst ToastClose = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Close>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Close\r\n    ref={ref}\r\n    className={cn(\r\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\r\n      className\r\n    )}\r\n    toast-close=\"\"\r\n    {...props}\r\n  >\r\n    <X className=\"h-4 w-4\" />\r\n  </ToastPrimitives.Close>\r\n))\r\nToastClose.displayName = ToastPrimitives.Close.displayName\r\n\r\nconst ToastTitle = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Title>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Title\r\n    ref={ref}\r\n    className={cn(\"text-sm font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nToastTitle.displayName = ToastPrimitives.Title.displayName\r\n\r\nconst ToastDescription = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Description>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm opacity-90\", className)}\r\n    {...props}\r\n  />\r\n))\r\nToastDescription.displayName = ToastPrimitives.Description.displayName\r\n\r\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\r\n\r\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\r\n\r\nexport {\r\n  type ToastProps,\r\n  type ToastActionElement,\r\n  ToastProvider,\r\n  ToastViewport,\r\n  Toast,\r\n  ToastTitle,\r\n  ToastDescription,\r\n  ToastClose,\r\n  ToastAction,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,gBAAgB,oKAAA,CAAA,WAAwB;AAE9C,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EACV,qIACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG,oKAAA,CAAA,WAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAI3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBACE,6LAAC,oKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,SAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EACV,sgBACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,oKAAA,CAAA,SAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EACV,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,6LAAC,+LAAA,CAAA,IAAC;YAAC,WAAU;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,oKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,oKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EAAE,sBAAsB;QACnC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,oKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/components/ui/toaster.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useToast } from \"@/hooks/use-toast\"\r\nimport {\r\n  Toast,\r\n  ToastClose,\r\n  ToastDescription,\r\n  ToastProvider,\r\n  ToastTitle,\r\n  ToastViewport,\r\n} from \"@/components/ui/toast\"\r\n\r\nexport function Toaster() {\r\n  const { toasts } = useToast()\r\n\r\n  return (\r\n    <ToastProvider>\r\n      {toasts.map(function ({ id, title, description, action, ...props }) {\r\n        return (\r\n          <Toast key={id} {...props}>\r\n            <div className=\"grid gap-1\">\r\n              {title && <ToastTitle>{title}</ToastTitle>}\r\n              {description && (\r\n                <ToastDescription>{description}</ToastDescription>\r\n              )}\r\n            </div>\r\n            {action}\r\n            <ToastClose />\r\n          </Toast>\r\n        )\r\n      })}\r\n      <ToastViewport />\r\n    </ToastProvider>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAYO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,oIAAA,CAAA,WAAQ,AAAD;IAE1B,qBACE,6LAAC,yIAAA,CAAA,gBAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,6LAAC,yIAAA,CAAA,QAAK;oBAAW,GAAG,KAAK;;sCACvB,6LAAC;4BAAI,WAAU;;gCACZ,uBAAS,6LAAC,yIAAA,CAAA,aAAU;8CAAE;;;;;;gCACtB,6BACC,6LAAC,yIAAA,CAAA,mBAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,6LAAC,yIAAA,CAAA,aAAU;;;;;;mBARD;;;;;YAWhB;0BACA,6LAAC,yIAAA,CAAA,gBAAa;;;;;;;;;;;AAGpB;GAtBgB;;QACK,oIAAA,CAAA,WAAQ;;;KADb","debugId":null}},
    {"offset": {"line": 423, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Dialog = DialogPrimitive.Root\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content> & { showCloseButton?: boolean }\r\n>(({ className, children, showCloseButton = true, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      {showCloseButton && (\r\n        <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\r\n          <X className=\"h-4 w-4\" />\r\n          <span className=\"sr-only\">Close</span>\r\n        </DialogPrimitive.Close>\r\n      )}\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n))\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,kBAAkB,IAAI,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EACV,2fACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAMpC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/components/pulse-orb.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface PulseOrbProps {\r\n    state: 'idle' | 'listening' | 'processing' | 'speaking' | 'error';\r\n}\r\n\r\nexport function PulseOrb({ state }: PulseOrbProps) {\r\n    // Animation Variants\r\n    const coreVariants = {\r\n        idle: {\r\n            scale: [1, 1.05, 1],\r\n            opacity: 0.8,\r\n            boxShadow: \"0px 0px 20px 5px rgba(230, 195, 106, 0.3)\",\r\n            transition: { duration: 4, repeat: Infinity, ease: \"easeInOut\" as const }\r\n        },\r\n        listening: {\r\n            scale: [1, 1.25, 0.95, 1.1, 1],\r\n            opacity: 1,\r\n            boxShadow: \"0px 0px 40px 10px rgba(230, 195, 106, 0.6)\",\r\n            transition: { duration: 0.8, repeat: Infinity, ease: \"easeInOut\" as const }\r\n        },\r\n        processing: {\r\n            scale: 0.9,\r\n            rotate: 360,\r\n            borderRadius: [\"50%\", \"40%\", \"50%\"],\r\n            boxShadow: \"0px 0px 30px 5px rgba(230, 195, 106, 0.5)\",\r\n            transition: {\r\n                rotate: { duration: 2, repeat: Infinity, ease: \"linear\" as const },\r\n                borderRadius: { duration: 1, repeat: Infinity }\r\n            }\r\n        },\r\n        speaking: {\r\n            scale: [1, 1.15, 1],\r\n            opacity: 1,\r\n            boxShadow: [\r\n                \"0px 0px 20px 2px rgba(230, 195, 106, 0.4)\",\r\n                \"0px 0px 60px 20px rgba(230, 195, 106, 0.2)\",\r\n                \"0px 0px 20px 2px rgba(230, 195, 106, 0.4)\"\r\n            ],\r\n            transition: { duration: 1.5, repeat: Infinity, ease: \"easeInOut\" as const }\r\n        },\r\n        error: {\r\n            scale: 1,\r\n            backgroundColor: \"#ef4444\", // Red for error\r\n            boxShadow: \"0px 0px 20px 5px rgba(239, 68, 68, 0.5)\",\r\n        }\r\n    };\r\n\r\n    const ringVariants = {\r\n        idle: { opacity: 0 },\r\n        listening: {\r\n            scale: [1, 2],\r\n            opacity: [0.5, 0],\r\n            transition: { duration: 1.5, repeat: Infinity, ease: \"easeOut\" as const }\r\n        },\r\n        processing: { opacity: 0 },\r\n        speaking: {\r\n            scale: [1, 1.5],\r\n            opacity: [0.3, 0],\r\n            transition: { duration: 2, repeat: Infinity, ease: \"easeOut\" as const, delay: 0.2 }\r\n        },\r\n        error: { opacity: 0 }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative flex items-center justify-center w-64 h-64\">\r\n            {/* Background Radial Gradient */}\r\n            <div className=\"absolute inset-0 bg-radial-gradient from-gold/10 to-transparent opacity-50 blur-3xl\" />\r\n\r\n            {/* Outer Ring Animation (Pulse) */}\r\n            <motion.div\r\n                className=\"absolute w-full h-full rounded-full border border-[rgba(230,195,106,0.3)]\"\r\n                variants={ringVariants}\r\n                animate={state}\r\n                initial=\"idle\"\r\n            />\r\n\r\n            {/* Core Orb */}\r\n            <motion.div\r\n                className=\"w-32 h-32 rounded-full bg-[#E6C36A] relative z-10\"\r\n                variants={coreVariants}\r\n                animate={state}\r\n                initial=\"idle\"\r\n                // Add a subtle inner gradient or highlight\r\n                style={{\r\n                    background: \"radial-gradient(circle at 30% 30%, #F4DFA9, #E6C36A, #B89542)\",\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AASO,SAAS,SAAS,EAAE,KAAK,EAAiB;IAC7C,qBAAqB;IACrB,MAAM,eAAe;QACjB,MAAM;YACF,OAAO;gBAAC;gBAAG;gBAAM;aAAE;YACnB,SAAS;YACT,WAAW;YACX,YAAY;gBAAE,UAAU;gBAAG,QAAQ;gBAAU,MAAM;YAAqB;QAC5E;QACA,WAAW;YACP,OAAO;gBAAC;gBAAG;gBAAM;gBAAM;gBAAK;aAAE;YAC9B,SAAS;YACT,WAAW;YACX,YAAY;gBAAE,UAAU;gBAAK,QAAQ;gBAAU,MAAM;YAAqB;QAC9E;QACA,YAAY;YACR,OAAO;YACP,QAAQ;YACR,cAAc;gBAAC;gBAAO;gBAAO;aAAM;YACnC,WAAW;YACX,YAAY;gBACR,QAAQ;oBAAE,UAAU;oBAAG,QAAQ;oBAAU,MAAM;gBAAkB;gBACjE,cAAc;oBAAE,UAAU;oBAAG,QAAQ;gBAAS;YAClD;QACJ;QACA,UAAU;YACN,OAAO;gBAAC;gBAAG;gBAAM;aAAE;YACnB,SAAS;YACT,WAAW;gBACP;gBACA;gBACA;aACH;YACD,YAAY;gBAAE,UAAU;gBAAK,QAAQ;gBAAU,MAAM;YAAqB;QAC9E;QACA,OAAO;YACH,OAAO;YACP,iBAAiB;YACjB,WAAW;QACf;IACJ;IAEA,MAAM,eAAe;QACjB,MAAM;YAAE,SAAS;QAAE;QACnB,WAAW;YACP,OAAO;gBAAC;gBAAG;aAAE;YACb,SAAS;gBAAC;gBAAK;aAAE;YACjB,YAAY;gBAAE,UAAU;gBAAK,QAAQ;gBAAU,MAAM;YAAmB;QAC5E;QACA,YAAY;YAAE,SAAS;QAAE;QACzB,UAAU;YACN,OAAO;gBAAC;gBAAG;aAAI;YACf,SAAS;gBAAC;gBAAK;aAAE;YACjB,YAAY;gBAAE,UAAU;gBAAG,QAAQ;gBAAU,MAAM;gBAAoB,OAAO;YAAI;QACtF;QACA,OAAO;YAAE,SAAS;QAAE;IACxB;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;;;;;0BAGf,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACP,WAAU;gBACV,UAAU;gBACV,SAAS;gBACT,SAAQ;;;;;;0BAIZ,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACP,WAAU;gBACV,UAAU;gBACV,SAAS;gBACT,SAAQ;gBACR,2CAA2C;gBAC3C,OAAO;oBACH,YAAY;gBAChB;;;;;;;;;;;;AAIhB;KApFgB","debugId":null}},
    {"offset": {"line": 755, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/lib/mock-auth.ts"],"sourcesContent":["// This module is responsible for fetching a mock authentication token during development.\r\n\r\n// We store the token in a singleton pattern to avoid re-fetching it on every API call.\r\nlet mockAuthToken: string | null = null;\r\n\r\n/**\r\n * Fetches a mock JWT from our new API endpoint.\r\n * This avoids the security risks and technical problems of generating tokens on the client-side.\r\n */\r\nasync function fetchMockToken(): Promise<string> {\r\n    try {\r\n        // We make a request to our new, server-side endpoint.\r\n        const response = await fetch('/api/auth/mock-token');\r\n        if (!response.ok) {\r\n            console.error(`[MockAuth] Failed to fetch mock token: HTTP error! status: ${response.status}`);\r\n            throw new Error(`Failed to fetch mock token: ${response.statusText}`);\r\n        }\r\n        const data = await response.json();\r\n        console.log('[MockAuth] Successfully fetched mock token.');\r\n        return data.token;\r\n    } catch (error) {\r\n        console.error('[MockAuth] Error fetching mock auth token:', error);\r\n        // If we can't get a token, we return an empty string. This will cause API\r\n        // calls to fail, which is better than letting the app hang.\r\n        return '';\r\n    }\r\n}\r\n\r\n/**\r\n * Asynchronously retrieves the mock auth token.\r\n *\r\n * It fetches the token on the first call and caches it for subsequent requests.\r\n * This is the main function that other parts of the app will use.\r\n */\r\nexport async function getMockAuthToken(): Promise<string> {\r\n    if (mockAuthToken === null) {\r\n        mockAuthToken = await fetchMockToken();\r\n    }\r\n    return mockAuthToken;\r\n}\r\n"],"names":[],"mappings":"AAAA,0FAA0F;AAE1F,uFAAuF;;;;AACvF,IAAI,gBAA+B;AAEnC;;;CAGC,GACD,eAAe;IACX,IAAI;QACA,sDAAsD;QACtD,MAAM,WAAW,MAAM,MAAM;QAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,QAAQ,KAAK,CAAC,CAAC,2DAA2D,EAAE,SAAS,MAAM,EAAE;YAC7F,MAAM,IAAI,MAAM,CAAC,4BAA4B,EAAE,SAAS,UAAU,EAAE;QACxE;QACA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,QAAQ,GAAG,CAAC;QACZ,OAAO,KAAK,KAAK;IACrB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,8CAA8C;QAC5D,0EAA0E;QAC1E,4DAA4D;QAC5D,OAAO;IACX;AACJ;AAQO,eAAe;IAClB,IAAI,kBAAkB,MAAM;QACxB,gBAAgB,MAAM;IAC1B;IACA,OAAO;AACX","debugId":null}},
    {"offset": {"line": 797, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/app/actions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { emotionalAICopilot } from '@/ai/flows/emotional-ai-copilot';\r\nimport { personalizedObjectives, PersonalizedObjectivesInput } from '@/ai/flows/personalize-daily-objectives';\r\nimport { youtubeSearchFlow } from '@/ai/flows/youtube-search-flow';\r\nimport { runFlow } from '@genkit-ai/flow';\r\nimport type { ConversationState, Message } from '@/lib/types';\r\nimport prisma from '@/lib/prisma';\r\nimport { cookies } from 'next/headers';\r\n\r\n/**\r\n * Helper to save message to DB (mimics backend logic)\r\n */\r\nasync function saveMessageToDb(sessionId: string, role: 'user' | 'model', content: string) {\r\n  try {\r\n    if (!sessionId) return;\r\n\r\n    const sessionExists = await prisma.chatSession.findUnique({\r\n        where: { id: sessionId },\r\n        select: { id: true }\r\n    });\r\n\r\n    if (!sessionExists) {\r\n        return; \r\n    }\r\n\r\n    const count = await prisma.chatMessage.count({ where: { sessionId } });\r\n    await prisma.chatMessage.create({\r\n      data: {\r\n        sessionId,\r\n        role,\r\n        content,\r\n        timestamp: new Date(),\r\n        messageNumber: count + 1,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    // console.error('Error saving message to DB:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Helper to update session state and title\r\n */\r\nasync function updateSessionState(sessionId: string, state: ConversationState, topic?: string, title?: string) {\r\n  if (!sessionId) return;\r\n  \r\n  // üîç LOGGING: Checking what we are trying to save\r\n  console.log(`[ACTION LOG] Attempting DB Update. ID: ${sessionId}, Title: \"${title}\"`);\r\n\r\n  const data: any = { updatedAt: new Date(), metadata: state };\r\n  \r\n  // ‚úÖ UPDATE TITLE IF PROVIDED\r\n  if (title && title !== \"New Chat\") {\r\n      data.topic = title; // Map 'title' to 'topic' column\r\n  }\r\n  \r\n  // UPDATE INTERNAL TOPIC (If separate from title)\r\n  if (topic && !title) {\r\n      data.topic = topic;\r\n  }\r\n  \r\n  await prisma.chatSession.update({\r\n    where: { id: sessionId },\r\n    data,\r\n  });\r\n}\r\n\r\n// FETCH MEMORY HELPER\r\nasync function fetchStudentMemory() {\r\n  try {\r\n    return { progress: [], mistakes: [] };\r\n  } catch (e) {\r\n    return { progress: [], mistakes: [] };\r\n  }\r\n}\r\n\r\nexport async function getAssistantResponse(\r\n  sessionId: string,\r\n  message: string,\r\n  chatHistory: Message[],\r\n  currentState: ConversationState,\r\n  fileDataBase64: { type: string; base64: string } | undefined,\r\n  forceWebSearch: boolean,\r\n  includeVideos: boolean,\r\n  preferences: {\r\n    name?: string;\r\n    gradeLevel?: 'Primary' | 'LowerSecondary' | 'UpperSecondary';\r\n    preferredLanguage?: 'english' | 'swahili' | 'arabic' | 'english_sw';\r\n    interests?: string[];\r\n  },\r\n  studentMemory: {\r\n    progress: any[];\r\n    mistakes: any[];\r\n  }\r\n) {\r\n  try {\r\n    // 1. Save User Message (Safely)\r\n    if (sessionId) {\r\n        await saveMessageToDb(sessionId, 'user', message);\r\n    }\r\n\r\n    // ‚úÖ FETCH CURRENT TITLE TO PASS TO AI\r\n    // This allows the AI to know if it needs to generate a title (if current is 'New Chat')\r\n    let currentTitle = 'New Chat';\r\n    if (sessionId) {\r\n        try {\r\n            const currentSession = await prisma.chatSession.findUnique({\r\n                where: { id: sessionId },\r\n                select: { topic: true }\r\n            });\r\n            if (currentSession?.topic) {\r\n                currentTitle = currentSession.topic;\r\n            }\r\n        } catch (e) {\r\n            // Ignore DB read error, default to New Chat\r\n        }\r\n    }\r\n\r\n    // 2. Run AI\r\n    console.log(\"[ACTION LOG] Calling Emotional AI...\");\r\n    const response = await emotionalAICopilot({\r\n      text: message,\r\n      chatHistory: chatHistory,\r\n      state: currentState,\r\n      preferences: preferences,\r\n      fileData: fileDataBase64,\r\n      forceWebSearch,\r\n      includeVideos,\r\n      memory: studentMemory,\r\n      currentTitle: currentTitle,\r\n      studentProfile: {\r\n        name: preferences.name || 'Student', // Ensure name is passed\r\n        gradeLevel: preferences.gradeLevel || 'Primary' // Ensure grade is passed\r\n      }\r\n    });\r\n\r\n    console.log(`[ACTION LOG] AI Finished. Suggested Title: \"${response.suggestedTitle}\"`);\r\n\r\n    // 3. Save AI Response & Try Update Title\r\n    if (sessionId) {\r\n        await saveMessageToDb(sessionId, 'model', response.processedText);\r\n        \r\n        // üõ°Ô∏è CRITICAL FIX: TRY/CATCH AROUND DB UPDATE\r\n        try {\r\n            await updateSessionState(\r\n                sessionId, \r\n                response.state, \r\n                response.topic, \r\n                response.suggestedTitle \r\n            );\r\n        } catch (dbError) {\r\n            console.warn(\"‚ö†Ô∏è [ACTION LOG] DB Write Failed (RLS/Auth). Returning title to Client for fallback save.\");\r\n        }\r\n    }\r\n\r\n    return {\r\n      processedText: response.processedText,\r\n      videoData: response.videoData ?? undefined,\r\n      state: response.state,\r\n      // ‚úÖ VITAL FIX: Pass suggestedTitle as 'topic' so frontend detects it\r\n      topic: response.suggestedTitle || response.topic,\r\n      suggestedTitle: response.suggestedTitle \r\n    };\r\n  } catch (err) {\r\n    console.error('[SERVER ACTION FATAL ERROR]', err);\r\n    return {\r\n      processedText: 'I am sorry, but something went wrong while processing that. Could you try again?',\r\n      videoData: undefined,\r\n      state: currentState,\r\n      topic: undefined,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function getDailyObjectives(\r\n  studentPerformance: string,\r\n  curriculum: string,\r\n  loggedMisconceptions: string\r\n) {\r\n  try {\r\n    const objectivesInput: PersonalizedObjectivesInput = {\r\n      studentPerformance,\r\n      curriculum,\r\n      loggedMisconceptions,\r\n    };\r\n    const result = await personalizedObjectives(objectivesInput);\r\n    return result.dailyObjectives;\r\n  } catch (err) {\r\n    console.error('[SERVER ACTION BRIDGE ERROR - Objectives]', err);\r\n    return ['Review today\\'s key concepts.', 'Practice one core problem.'];\r\n  }\r\n}\r\n\r\nexport async function searchYouTube(query: string) {\r\n  try {\r\n    const results = await runFlow(youtubeSearchFlow, { query });\r\n    return results;\r\n  } catch (error) {\r\n    console.error('[SERVER ACTION BRIDGE ERROR - YouTube]', error);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport type { ConversationState, Message };"],"names":[],"mappings":";;;;;;IA6EsB,uBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 813, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,qHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 880, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/components/voice-concierge.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Mic, Square, X, Settings, Volume2, VolumeX } from 'lucide-react';\r\nimport { PulseOrb } from './pulse-orb';\r\nimport { getMockAuthToken } from '@/lib/mock-auth';\r\nimport { getAssistantResponse } from '@/app/actions';\r\nimport { Button } from './ui/button';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { cn } from '@/lib/utils';\r\nimport type { Message } from '@/lib/types';\r\n\r\ninterface VoiceConciergeProps {\r\n    onClose: () => void;\r\n}\r\n\r\nexport function VoiceConcierge({ onClose }: VoiceConciergeProps) {\r\n    const [state, setState] = useState<'idle' | 'listening' | 'processing' | 'speaking' | 'error'>('idle');\r\n    const [transcript, setTranscript] = useState('');\r\n    const [aiResponseText, setAiResponseText] = useState('');\r\n    const [timer, setTimer] = useState(0);\r\n    const [isMuted, setIsMuted] = useState(false);\r\n\r\n    const mediaRecorderRef = useRef<MediaRecorder | null>(null);\r\n    const audioRef = useRef<HTMLAudioElement | null>(null);\r\n    const timerRef = useRef<NodeJS.Timeout | null>(null);\r\n    const messagesRef = useRef<Message[]>([]); // Keep local history for context via Ref\r\n\r\n    const { toast } = useToast();\r\n\r\n    // Cleanup on unmount\r\n    useEffect(() => {\r\n        return () => {\r\n            if (timerRef.current) clearInterval(timerRef.current);\r\n            if (mediaRecorderRef.current) mediaRecorderRef.current.stop();\r\n            if (audioRef.current) {\r\n                audioRef.current.pause();\r\n                audioRef.current = null;\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    const startTimer = () => {\r\n        setTimer(0);\r\n        if (timerRef.current) clearInterval(timerRef.current);\r\n        timerRef.current = setInterval(() => {\r\n            setTimer(prev => prev + 1);\r\n        }, 1000);\r\n    };\r\n\r\n    const stopTimer = () => {\r\n        if (timerRef.current) {\r\n            clearInterval(timerRef.current);\r\n            timerRef.current = null;\r\n        }\r\n    };\r\n\r\n    const formatTime = (seconds: number) => {\r\n        const mins = Math.floor(seconds / 60);\r\n        const secs = seconds % 60;\r\n        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    const handleStartListening = async () => {\r\n        try {\r\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n            const mediaRecorder = new MediaRecorder(stream);\r\n            mediaRecorderRef.current = mediaRecorder;\r\n            const audioChunks: BlobPart[] = [];\r\n\r\n            mediaRecorder.ondataavailable = (event) => {\r\n                if (event.data.size > 0) audioChunks.push(event.data);\r\n            };\r\n\r\n            mediaRecorder.onstop = async () => {\r\n                const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });\r\n                processAudio(audioBlob);\r\n                stream.getTracks().forEach(track => track.stop());\r\n            };\r\n\r\n            mediaRecorder.start();\r\n            setState('listening');\r\n            startTimer();\r\n        } catch (error) {\r\n            console.error('Mic access denied:', error);\r\n            setState('error');\r\n            setAiResponseText(\"Please enable microphone access.\");\r\n        }\r\n    };\r\n\r\n    const handleStopListening = () => {\r\n        if (mediaRecorderRef.current && mediaRecorderRef.current.state === 'recording') {\r\n            mediaRecorderRef.current.stop();\r\n            stopTimer();\r\n            setState('processing');\r\n        }\r\n    };\r\n\r\n    const processAudio = async (audioBlob: Blob) => {\r\n        try {\r\n            // 1. Get Token (Mock Auth Fallback)\r\n            let token = localStorage.getItem('token');\r\n            if (!token) {\r\n                try {\r\n                    token = await getMockAuthToken();\r\n                } catch (e) {\r\n                    console.error('Failed to get mock token', e);\r\n                }\r\n            }\r\n\r\n            if (!token) throw new Error(\"Authentication failed\");\r\n\r\n            // 2. STT\r\n            const formData = new FormData();\r\n            formData.append('audio', audioBlob, 'recording.webm');\r\n\r\n            const sttRes = await fetch('/api/copilot/stt', {\r\n                method: 'POST',\r\n                headers: { 'Authorization': `Bearer ${token}` },\r\n                body: formData,\r\n            });\r\n\r\n            if (!sttRes.ok) throw new Error(\"Transcription failed\");\r\n\r\n            const sttData = await sttRes.json();\r\n            const userText = sttData.text;\r\n            setTranscript(userText); // Preview what user said\r\n\r\n            if (!userText) {\r\n                setState('idle'); // No speech detected\r\n                return;\r\n            }\r\n\r\n            // 3. AI Processing\r\n            // Construct message object\r\n            const userMessage: Message = {\r\n                id: Date.now().toString(),\r\n                role: 'user',\r\n                content: userText,\r\n                timestamp: new Date(),\r\n            };\r\n\r\n            const defaultState = {\r\n                researchModeActive: false,\r\n                lastSearchTopic: [],\r\n                awaitingPracticeQuestionInvitationResponse: false,\r\n                awaitingPracticeQuestionAnswer: false,\r\n                validationAttemptCount: 0,\r\n                sensitiveContentDetected: false,\r\n                videoSuggested: false,\r\n                usedExamples: []\r\n            };\r\n\r\n            // Call Server Action with correct arguments\r\n            const response = await getAssistantResponse(\r\n                'concierge_session', // Dummy session\r\n                userText,\r\n                messagesRef.current,\r\n                defaultState,\r\n                undefined, // File data\r\n                false, // Force web search\r\n                false, // Include videos\r\n                { name: 'Guest' },\r\n                { progress: [], mistakes: [] }\r\n            );\r\n\r\n            const aiText = response.processedText || \"I'm sorry, I couldn't understand that.\";\r\n            setAiResponseText(aiText);\r\n\r\n            // Update History\r\n            messagesRef.current.push(userMessage);\r\n            messagesRef.current.push({\r\n                id: (Date.now() + 1).toString(),\r\n                role: 'model', // Correct role\r\n                content: aiText,\r\n                timestamp: new Date(),\r\n            });\r\n\r\n            // 4. TTS and Speaking\r\n            await playTTS(aiText, token);\r\n\r\n        } catch (error: any) {\r\n            console.error(\"Processing error:\", error);\r\n            setState('error');\r\n            setAiResponseText(\"Something went wrong. Please try again.\");\r\n        }\r\n    };\r\n\r\n    const playTTS = async (text: string, token: string) => {\r\n        try {\r\n            const ttsRes = await fetch('/api/copilot/tts', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify({ text }),\r\n            });\r\n\r\n            if (!ttsRes.ok) throw new Error(\"TTS failed\");\r\n\r\n            const audioBlob = await ttsRes.blob();\r\n            const audioUrl = URL.createObjectURL(audioBlob);\r\n            const audio = new Audio(audioUrl);\r\n            audioRef.current = audio;\r\n\r\n            // Mute check\r\n            audio.muted = isMuted;\r\n\r\n            audio.onended = () => {\r\n                // Return to idle\r\n                setState('idle');\r\n            };\r\n\r\n            setState('speaking');\r\n            await audio.play();\r\n\r\n        } catch (e) {\r\n            console.error(\"TTS Error\", e);\r\n            setState('idle');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-between w-full h-full p-8 text-center bg-[#0B1A2A] text-white\">\r\n\r\n            {/* Top Status Area */}\r\n            <div className=\"flex flex-col items-center min-h-[60px] mt-8\">\r\n                <h2 className={cn(\"text-3xl font-playfair transition-all duration-500\",\r\n                    state === 'processing' ? 'animate-pulse text-[#E6C36A]' : 'text-white'\r\n                )}>\r\n                    {state === 'idle' && \"How can I help you today?\"}\r\n                    {state === 'listening' && \"Listening...\"}\r\n                    {state === 'processing' && \"Thinking...\"}\r\n                    {state === 'speaking' && \"Speaking...\"}\r\n                    {state === 'error' && \"Error\"}\r\n                </h2>\r\n\r\n                {/* Subtext or Transcript */}\r\n                <p className=\"mt-4 text-base text-gray-400 font-ptsans max-w-lg line-clamp-2\">\r\n                    {state === 'idle' && \"Ask about bookings, prices, or loyalty rewards.\"}\r\n                    {state === 'listening' && formatTime(timer)}\r\n                    {(state === 'processing' || state === 'speaking') && transcript ? `\"${transcript}\"` : \"\"}\r\n                    {state === 'error' && aiResponseText}\r\n                </p>\r\n            </div>\r\n\r\n            {/* Hero Area: Orb */}\r\n            <div className=\"flex-1 flex items-center justify-center w-full min-h-[300px]\">\r\n                <PulseOrb state={state} />\r\n            </div>\r\n\r\n            {/* Response Preview (Only during Speaking/Idle if exists) */}\r\n            <div className=\"flex-1 flex items-center justify-center w-full max-h-[150px] px-6\">\r\n                <AnimatePresence>\r\n                    {state === 'speaking' && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: 10 }}\r\n                            className=\"p-6 bg-white/5 rounded-2xl border border-[#E6C36A]/20 backdrop-blur-md max-w-2xl w-full shadow-lg\"\r\n                        >\r\n                            <p className=\"text-[#E6C36A] text-lg font-playfair leading-relaxed line-clamp-3\">\r\n                                {aiResponseText}\r\n                            </p>\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n\r\n            {/* Controls */}\r\n            <div className=\"flex items-center gap-8 mb-8 mt-4\">\r\n\r\n                {/* Secondary: Mute */}\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"rounded-full w-12 h-12 text-white/50 hover:text-white hover:bg-white/10\"\r\n                    onClick={() => {\r\n                        setIsMuted(!isMuted);\r\n                        if (audioRef.current) audioRef.current.muted = !isMuted;\r\n                    }}\r\n                >\r\n                    {isMuted ? <VolumeX size={24} /> : <Volume2 size={24} />}\r\n                </Button>\r\n\r\n                {/* Primary Action */}\r\n                <Button\r\n                    size=\"lg\"\r\n                    className={cn(\r\n                        \"h-20 w-20 rounded-full shadow-[0_0_40px_-5px_rgba(230,195,106,0.5)] transition-all duration-300 scale-100 hover:scale-105 active:scale-95\",\r\n                        state === 'listening'\r\n                            ? \"bg-red-500 hover:bg-red-600 text-white shadow-[0_0_40px_-5px_rgba(239,68,68,0.5)]\" // Stop\r\n                            : \"bg-[#E6C36A] hover:bg-[#D4B055] text-[#0B1A2A]\" // Mic/Start\r\n                    )}\r\n                    onClick={state === 'listening' ? handleStopListening : handleStartListening}\r\n                    disabled={state === 'processing'}\r\n                >\r\n                    {state === 'listening' ? (\r\n                        <Square className=\"fill-current\" size={32} />\r\n                    ) : (\r\n                        <Mic size={36} />\r\n                    )}\r\n                </Button>\r\n\r\n                {/* Secondary: Cancel/Close */}\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"rounded-full w-12 h-12 text-white/50 hover:text-white hover:bg-white/10\"\r\n                    onClick={onClose}\r\n                >\r\n                    <X size={24} />\r\n                </Button>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1287, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/components/steadfast-copilot.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Dialog, DialogContent } from '@/components/ui/dialog';\r\nimport { VoiceConcierge } from './voice-concierge';\r\nimport { X } from 'lucide-react';\r\n\r\ninterface SteadfastCopilotProps {\r\n  isOpen: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport function SteadfastCopilot({ isOpen, onOpenChange }: SteadfastCopilotProps) {\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\r\n      <DialogContent\r\n        className=\"max-w-[1000px] w-[95vw] h-[80vh] min-h-[600px] p-0 gap-0 bg-[#0B1A2A] border-[#E6C36A]/20 text-white overflow-hidden shadow-2xl shadow-black/80 sm:rounded-[2rem] focus:outline-none\"\r\n        showCloseButton={false} // We will provide our own custom header/close\r\n      >\r\n        {/* Custom Header */}\r\n        <div className=\"absolute top-0 left-0 right-0 z-50 flex items-center justify-between px-8 py-6 pointer-events-none\">\r\n          {/* Pointer events none ensures the header doesn't block clicks if transparent, but buttons need pointer-events-auto */}\r\n\r\n          {/* Branding */}\r\n          <div className=\"flex items-center gap-3 pointer-events-auto\">\r\n            <div className=\"w-2 h-2 rounded-full bg-[#E6C36A] shadow-[0_0_15px_#E6C36A] animate-pulse\" />\r\n            <span className=\"font-playfair text-xl tracking-wide text-white drop-shadow-md\">\r\n              Tarz Elite Concierge\r\n            </span>\r\n          </div>\r\n\r\n          {/* Close Button */}\r\n          <button\r\n            onClick={() => onOpenChange(false)}\r\n            className=\"p-2 rounded-full bg-white/5 hover:bg-white/10 text-white/70 hover:text-white transition-all pointer-events-auto backdrop-blur-sm\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Main Content Body */}\r\n        <div className=\"w-full h-full relative\">\r\n          {/* Background glow effects */}\r\n          <div className=\"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-blue-900/20 rounded-full blur-[100px] pointer-events-none\" />\r\n          <div className=\"absolute bottom-[-10%] right-[-10%] w-[400px] h-[400px] bg-gold/5 rounded-full blur-[80px] pointer-events-none\" />\r\n\r\n          <VoiceConcierge onClose={() => onOpenChange(false)} />\r\n        </div>\r\n\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAYO,SAAS,iBAAiB,EAAE,MAAM,EAAE,YAAY,EAAyB;IAC9E,qBACE,6LAAC,0IAAA,CAAA,SAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,6LAAC,0IAAA,CAAA,gBAAa;YACZ,WAAU;YACV,iBAAiB;;8BAGjB,6LAAC;oBAAI,WAAU;;sCAIb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCAAK,WAAU;8CAAgE;;;;;;;;;;;;sCAMlF,6LAAC;4BACC,SAAS,IAAM,aAAa;4BAC5B,WAAU;sCAEV,cAAA,6LAAC,+LAAA,CAAA,IAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAKb,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;;;;;;sCAEf,6LAAC,gJAAA,CAAA,iBAAc;4BAAC,SAAS,IAAM,aAAa;;;;;;;;;;;;;;;;;;;;;;;AAMtD;KAxCgB","debugId":null}},
    {"offset": {"line": 1409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Steadfast-AI/frontend/contexts/UserProfileContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, ReactNode, useEffect } from 'react';\r\n\r\n// Define the shape of the user profile\r\ninterface UserProfile {\r\n  name?: string;\r\n  gradeLevel?: string;\r\n  preferredLanguage: string;\r\n  // FIX: Renamed 'topInterests' to 'interests' to match the backend API and create a single source of truth.\r\n  interests: string[]; \r\n  favoriteShows: string[];\r\n}\r\n\r\n// Define the context shape\r\ninterface UserProfileContextType {\r\n  profile: UserProfile | null;\r\n  setProfile: (profile: UserProfile | null) => void;\r\n  updateProfile: (updates: Partial<UserProfile>) => void;\r\n}\r\n\r\n// Create the context\r\nconst UserProfileContext = createContext<UserProfileContextType | undefined>(undefined);\r\n\r\n// Create the provider component\r\nexport const UserProfileProvider = ({ children }: { children: ReactNode }) => {\r\n  const [profile, setProfile] = useState<UserProfile | null>(null);\r\n\r\n  // This function is generic and will work correctly with the updated UserProfile interface.\r\n  const updateProfile = (updates: Partial<UserProfile>) => {\r\n    setProfile(prev => {\r\n      const newProfile = prev ? { ...prev, ...updates } : { ...updates } as UserProfile;\r\n      console.log(\"UserProfileContext: Profile updated\", newProfile);\r\n      return newProfile;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <UserProfileContext.Provider value={{ profile, setProfile, updateProfile }}>\r\n      {children}\r\n    </UserProfileContext.Provider>\r\n  );\r\n};\r\n\r\n// Create a custom hook for using the context\r\nexport const useUserProfile = () => {\r\n  const context = useContext(UserProfileContext);\r\n  if (context === undefined) {\r\n    throw new Error('useUserProfile must be used within a UserProfileProvider');\r\n  }\r\n  return context;\r\n};"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAqBA,qBAAqB;AACrB,MAAM,mCAAqB,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAsC;AAGtE,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAA2B;;IACvE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAsB;IAE3D,2FAA2F;IAC3F,MAAM,gBAAgB,CAAC;QACrB,WAAW,CAAA;YACT,MAAM,aAAa,OAAO;gBAAE,GAAG,IAAI;gBAAE,GAAG,OAAO;YAAC,IAAI;gBAAE,GAAG,OAAO;YAAC;YACjE,QAAQ,GAAG,CAAC,uCAAuC;YACnD,OAAO;QACT;IACF;IAEA,qBACE,6LAAC,mBAAmB,QAAQ;QAAC,OAAO;YAAE;YAAS;YAAY;QAAc;kBACtE;;;;;;AAGP;GAjBa;KAAA;AAoBN,MAAM,iBAAiB;;IAC5B,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa","debugId":null}}]
}